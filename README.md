# README

- использовал сайдкик + редис для воркера - привычная мне технология, быстрая - на требуемый стэк переделать не успел (еще поизучал сравнение sidekiq с backburner - я так понял, что оно в пользу sidekiq)
- в качестве тестовой БД - sqlite (да, на продакшн посгрес может повести себя немного иначе, но для тестового скулайта было достаточно)
- основное время работы ушло на попытки оптимизации + работу с конкретными yml файлами - все остальное в задании сделать просто
- сортировку сделал по цене (без ajax сделал - не успеваю с ним)
- поиск сделал по названию или вхождению текста в название
- сбои при импорте - не понял, что может случиться, если изначально код оттестирован (сам сайдкик будет делать попытки обработок по новой, как в нем это заложено)

выполнял задание:
17ого числа с 18-00 до 23-30 - 5 часов (приложение, выгрузки и т п, основная работа)
18ого числа с 17-00 до 20-00 - 3 часа (пытался оптимизировать)
19ого числа с 10-00 до 17-00 - 7 часов (пытался оптимизировать)
ИТОГО: 15 часов суммарно


что я сделал для оптимизации:
- собрал все запросы по добавлению в один набор (добавил метод в модели)
- сделал так, что проверка наличия Item в базе происходит не поштучно, как изначально сделал, а разом - за счет вычитания массива всех существующих товаров в системе и тех, которые мы пытаемся загрузить - то есть все происходит в оперативной памяти сервера без запросов к БД
- изначально пытался сделать две модели Item и Picture, в итоге сделал одну модель и в ней поле со ссылками на картинке

еще момент - не добавил AJAX отображение, что задание воркер выполнил - не успел (но можно просто подождать некоторое время и обновить страничку)

получилось сделать загрузку за 9 секунд